---
title: HEXO note by mac
date: 2016-01-05
tags: Hexo
---
## 安装环境
+ Mac pro
+ node 5.0
+ GitHub
+ Hexo 3.2
有关node的安装，github安装（或者git安装）自行Google下，网上的案例很多的。我就根据自己搭载需要注意或者出现的问题记录下。

<!--more-->

### 基本命令

直接在source 新建文档就行

```
---
comments: 默认是true， 具体某个页面不需要评论改为：false
title: postName #文章页面上的显示名称，可以任意修改，不会出现在URL中
date: 2013-12-02 15:30:16 #文章生成时间，一般不改，当然也可以任意修改
categories: example #分类
tags: [tag1,tag2,tag3] #文章标签，可空，多标签请用格式，注意:后面有个空格
description: 附加一段文章摘要，字数最好在140字以内。
---
```

### 开发工具
md文档用 [macdown](http://macdown.uranusjr.com/)编辑器

### 增添README

public作为对外输出的文件，也就是要传到github上的。

skip_render调过某些文件或者文件夹

```
skip_render:
  - README.md
  - markdowns/**/*.md 调过这个文件夹中所有的文件
```

#### 支持disqus

第一步肯定是注册一个账号

然后点击 setting > Add Disqus To Site 进入另一个页面 > 点击用户名旁边有个[ install on your site] > site name: 输入你的网站; 你就可以看到所谓的'short_name'

如果不行的话，进入 setup 页面 找到 website name 与 website url 重新输入，然后保存下

然后修改_config.yml

```
# disqus
disqus_shortname: 就是你的用户名
```

#### [修改域名]

https://dcc.godaddy.com/ 购买域名


通过dnspod 管理域名   
(https://www.dnspod.cn/)

设置CNAME



#### 支持数据统计

可以[参考](http://ibruce.info/2013/12/22/count-views-of-hexo/)，我是修改的主题中的footer.ejs模板，样式随便修改了下

```
<p style="margin-top:10px">
      <span id="busuanzi_container_site_pv">
        本站总访问量<span id="busuanzi_value_site_pv"></span>次
      </span>
</p>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
```

#### [部署 Hexo 静态博客至七牛](http://lukang.me/2014/hexo-qiniu.html)

#### [添加网站地图，CDN](http://lukang.me/2015/optimization-of-hexo-2.html)

#### 部署发布

```

hexo s -g // test

hexo d -g // deploy

```

### 修改主题

#### Hexo自动添加ReadMore标记

hexo 在写作的时候，如果在文中添加<!--more-->则该标记之前的部分就会成为该文章的简述，显示在首页里

[自动截取文章作为简介片段方法](http://twiceyuan.com/2014/05/25/hexo%E8%87%AA%E5%8A%A8%E6%B7%BB%E5%8A%A0readmore%E6%A0%87%E8%AE%B0/)

#### 去掉网站标题
注释掉就行了
```
<h1 id="logo-wrap">
<!---  <a href="<%- url_for() %>" id="logo"><%= config.title %></a> -->
</h1>
```

## 遇到的问题解决方案

### hexo server 没有反应

hexo升级后需要安装一个插件

```
npm install hexo-deployer-git --save
```

然后修改_config.yml

```
deploy:
  type: git
  repository: https://github.com/yourname/yourname.github.io.git
  branch: master
```

### [当文章中出现双括号符号时无法生成网页](https://github.com/hexojs/hexo/issues/1439)

error msg

```
FATAL Something's wrong. Maybe you can find the solution here: http://hexo.io/docs/troubleshooting.html
Template render error: (unknown path)
  Error: filter not found: formatDate
    at Object.exports.prettifyError (/Users/hui/blog/node_modules/nunjucks/src/lib.js:34:15)
    at /Users/hui/blog/node_modules/nunjucks/src/environment.js:486:31
    at root [as rootRenderFunc] (eval at <anonymous> (/Users/hui/blog/node_modules/nunjucks/src/environment.js:565:24), <anonymous>:18:3)
    at Obj.extend.render (/Users/hui/blog/node_modules/nunjucks/src/environment.js:479:15)
    at Obj.extend.renderString (/Users/hui/blog/node_modules/nunjucks/src/environment.js:327:21)
    at /Users/hui/blog/node_modules/hexo/lib/extend/tag.js:66:9
    at Promise._execute (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/debuggability.js:300:9)
    at Promise._resolveFromExecutor (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/promise.js:481:18)
    at new Promise (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/promise.js:77:14)
    at Tag.render (/Users/hui/blog/node_modules/hexo/lib/extend/tag.js:64:10)
    at Object.tagFilter [as onRenderEnd] (/Users/hui/blog/node_modules/hexo/lib/hexo/post.js:253:16)
    at /Users/hui/blog/node_modules/hexo/lib/hexo/render.js:65:19
    at tryCatcher (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/promise.js:510:31)
    at Promise._settlePromise (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/promise.js:567:18)
    at Promise._settlePromise0 (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/promise.js:612:10)
    at Promise._settlePromises (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/promise.js:691:18)
    at Async._drainQueue (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/async.js:133:16)
    at Async._drainQueues (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/async.js:143:10)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/async.js:17:14)
    at processImmediate [as _immediateCallback] (timers.js:383:17)
FATAL (unknown path)
  Error: filter not found: formatDate
Template render error: (unknown path)
  Error: filter not found: formatDate
    at Object.exports.prettifyError (/Users/hui/blog/node_modules/nunjucks/src/lib.js:34:15)
    at /Users/hui/blog/node_modules/nunjucks/src/environment.js:486:31
    at root [as rootRenderFunc] (eval at <anonymous> (/Users/hui/blog/node_modules/nunjucks/src/environment.js:565:24), <anonymous>:18:3)
    at Obj.extend.render (/Users/hui/blog/node_modules/nunjucks/src/environment.js:479:15)
    at Obj.extend.renderString (/Users/hui/blog/node_modules/nunjucks/src/environment.js:327:21)
    at /Users/hui/blog/node_modules/hexo/lib/extend/tag.js:66:9
    at Promise._execute (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/debuggability.js:300:9)
    at Promise._resolveFromExecutor (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/promise.js:481:18)
    at new Promise (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/promise.js:77:14)
    at Tag.render (/Users/hui/blog/node_modules/hexo/lib/extend/tag.js:64:10)
    at Object.tagFilter [as onRenderEnd] (/Users/hui/blog/node_modules/hexo/lib/hexo/post.js:253:16)
    at /Users/hui/blog/node_modules/hexo/lib/hexo/render.js:65:19
    at tryCatcher (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/promise.js:510:31)
    at Promise._settlePromise (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/promise.js:567:18)
    at Promise._settlePromise0 (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/promise.js:612:10)
    at Promise._settlePromises (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/promise.js:691:18)
    at Async._drainQueue (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/async.js:133:16)
    at Async._drainQueues (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/async.js:143:10)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/hui/blog/node_modules/hexo/node_modules/bluebird/js/release/async.js:17:14)
    at processImmediate [as _immediateCallback] (timers.js:383:17)
```

```
{/{ }/}代替
```

### 标签不能区别大小写

删除public中所有的文件，重新上传
